(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),s=n.n(r),i=n(21),o=n(113),u=n(114),l=n(110),d=n(111),h=n(115),j=n(27),g=n.n(j),m=function(e,t){return g.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely,hourly,alerts&units=metric&appid=").concat("f4d44a9ee84f5984877a722c761480af"))},p=n(106),b=Object(p.a)((function(e){return{search:{maxWidth:"200px",margin:"0 auto"}}})),O=n(5),f=function(e){var t=e.setLocation,n=e.setWeather,c=Object(a.useState)(""),r=Object(i.a)(c,2),s=r[0],o=r[1],u=b();return Object(O.jsx)("form",{onSubmit:function(e){var a;e.preventDefault(),sessionStorage.getItem(s)?(t(s),n(JSON.parse(sessionStorage.getItem(s)))):(a=s,g.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,"&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(e){return e.data.results[0].geometry.location}))).then((function(e){return m(e.lat,e.lng)})).then((function(e){n(e.data),sessionStorage.setItem(s,JSON.stringify(e.data))})).then((function(){return t(s)})).catch((function(e){return alert("Invalid input")})),o("")},className:u.search,children:Object(O.jsx)(h.a,{label:"Search",value:s,onChange:function(e){o(e.target.value)}})})},x=n(112),v=n(22),S=Object(p.a)((function(e){var t;return{temp:(t={},Object(v.a)(t,e.breakpoints.down("xs"),{textAlign:"center"}),Object(v.a)(t,e.breakpoints.up("sm"),{marginRight:e.spacing(8)}),Object(v.a)(t,e.breakpoints.up("md"),{marginBottom:e.spacing(3)}),t),details:Object(v.a)({},e.breakpoints.down("xs"),{textAlign:"center",marginBottom:e.spacing(1)})}})),y=function(e){var t=e.currentWeather,n=S();return void 0===t?Object(O.jsx)(d.a,{align:"center",variant:"h5",children:"Loading..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.a,{align:"center",variant:"h3",children:t.weather[0].main}),Object(O.jsxs)(x.a,{container:!0,children:[Object(O.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(O.jsxs)(d.a,{align:"right",variant:"h1",className:n.temp,children:[Math.round(t.temp),"\xb0"]})}),Object(O.jsxs)(x.a,{item:!0,xs:12,sm:6,className:n.details,children:[Object(O.jsxs)(d.a,{variant:"h6",children:["Feels like: ",Math.round(t.feels_like),"\xb0"]}),Object(O.jsxs)(d.a,{variant:"h6",children:["Humidity: ",t.humidity,"%"]}),Object(O.jsxs)(d.a,{variant:"h6",children:["Pressure: ",t.pressure,"hPa"]})]})]})]})},I=(n(74),function(e){var t=e.dayWeather,n=new Date(1e3*t.dt).toLocaleDateString("en-US",{weekday:"short"});return Object(O.jsxs)("div",{className:"day",children:[Object(O.jsx)("div",{children:n}),Object(O.jsxs)("div",{children:[Math.round(t.temp.day),"\xb0"]}),Object(O.jsxs)("div",{children:[Math.round(t.temp.night),"\xb0"]})]})}),k=(n(75),function(e){var t=e.forecast;return Object(O.jsx)("div",{className:"container",children:void 0!==t&&t.map((function(e){return Object(O.jsx)(I,{dayWeather:e},e.dt)}))})}),N=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(3),padding:e.spacing(2)},city:{margin:e.spacing(3)}}}));var w=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),s=Object(i.a)(r,2),h=s[0],j=s[1],p=N();return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,a=t.longitude;sessionStorage.getItem("currentLocation")?c(sessionStorage.getItem("currentLocation")):function(e,t){return g.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&language=en&result_type=locality&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(e){return e.data.results[0].address_components[0].long_name}))}(n,a).then((function(e){c(e),sessionStorage.setItem("currentLocation",e)})).catch((function(e){return console.log(e)})),sessionStorage.getItem("currentLocationWeather")?j(JSON.parse(sessionStorage.getItem("currentLocationWeather"))):m(n,a).then((function(e){j(e.data),sessionStorage.setItem("currentLocationWeather",JSON.stringify(e.data))})).catch((function(e){return console.log(e)}))}))}),[]),Object(O.jsx)(o.a,{children:Object(O.jsx)(u.a,{component:"main",maxWidth:"md",children:Object(O.jsxs)(l.a,{elevation:12,className:p.paper,children:[Object(O.jsx)(f,{setLocation:c,setWeather:j}),""!==n&&Object(O.jsx)(d.a,{align:"center",variant:"h4",className:p.city,children:n}),Object(O.jsx)(y,{currentWeather:h.current}),Object(O.jsx)(k,{forecast:h.daily})]})})})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.44a99ae0.chunk.js.map