(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),i=a(21),o=a(113),u=a(114),d=a(110),l=a(111),j=a(115),h=a(27),g=a.n(h),m=function(e,t){return g.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely,hourly,alerts&units=metric&appid=").concat("f4d44a9ee84f5984877a722c761480af"))},p=a(106),b=Object(p.a)((function(e){return{search:{maxWidth:"200px",margin:"0 auto"}}})),O=a(5),f=function(e){var t=e.setLocation,a=e.setWeather,r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],u=b();return Object(O.jsx)("form",{onSubmit:function(e){var n;e.preventDefault(),sessionStorage.getItem(s)?(t(s),a(JSON.parse(sessionStorage.getItem(s)))):(n=s,g.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,"&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(e){return e.data.results[0].geometry.location}))).then((function(e){return m(e.lat,e.lng)})).then((function(e){a(e.data),sessionStorage.setItem(s,JSON.stringify(e.data))})).then((function(){return t(s)})),o("")},className:u.search,children:Object(O.jsx)(j.a,{label:"Search",value:s,onChange:function(e){o(e.target.value)}})})},x=a(112),v=a(22),S=Object(p.a)((function(e){var t;return{temp:(t={},Object(v.a)(t,e.breakpoints.down("xs"),{textAlign:"center"}),Object(v.a)(t,e.breakpoints.up("sm"),{marginRight:e.spacing(8)}),Object(v.a)(t,e.breakpoints.up("md"),{marginBottom:e.spacing(3)}),t),details:Object(v.a)({},e.breakpoints.down("xs"),{textAlign:"center",marginBottom:e.spacing(1)})}})),y=function(e){var t=e.currentWeather,a=S();return void 0===t?Object(O.jsx)(l.a,{align:"center",variant:"h5",children:"Loading..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.a,{align:"center",variant:"h3",children:t.weather[0].main}),Object(O.jsxs)(x.a,{container:!0,children:[Object(O.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(O.jsxs)(l.a,{align:"right",variant:"h1",className:a.temp,children:[Math.round(t.temp),"\xb0"]})}),Object(O.jsxs)(x.a,{item:!0,xs:12,sm:6,className:a.details,children:[Object(O.jsxs)(l.a,{variant:"h6",children:["Feels like: ",Math.round(t.feels_like),"\xb0"]}),Object(O.jsxs)(l.a,{variant:"h6",children:["Humidity: ",t.humidity,"%"]}),Object(O.jsxs)(l.a,{variant:"h6",children:["Pressure: ",t.pressure,"hPa"]})]})]})]})},I=(a(74),function(e){var t=e.dayWeather,a=new Date(1e3*t.dt).toLocaleDateString("en-US",{weekday:"short"});return Object(O.jsxs)("div",{className:"day",children:[Object(O.jsx)("div",{children:a}),Object(O.jsxs)("div",{children:[Math.round(t.temp.day),"\xb0"]}),Object(O.jsxs)("div",{children:[Math.round(t.temp.night),"\xb0"]})]})}),k=(a(75),function(e){var t=e.forecast;return Object(O.jsx)("div",{className:"container",children:void 0!==t&&t.map((function(e){return Object(O.jsx)(I,{dayWeather:e},e.dt)}))})}),N=Object(p.a)((function(e){return{paper:{marginTop:e.spacing(3),padding:e.spacing(2)},city:{margin:e.spacing(3)}}}));var w=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),s=Object(i.a)(c,2),j=s[0],h=s[1],p=N();return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;sessionStorage.getItem("currentLocation")?r(sessionStorage.getItem("currentLocation")):function(e,t){return g.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&language=en&result_type=locality&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(e){return e.data.results[0].address_components[0].long_name}))}(a,n).then((function(e){r(e),sessionStorage.setItem("currentLocation",e)})),sessionStorage.getItem("currentLocationWeather")?h(JSON.parse(sessionStorage.getItem("currentLocationWeather"))):m(a,n).then((function(e){h(e.data),sessionStorage.setItem("currentLocationWeather",JSON.stringify(e.data))}))}))}),[]),Object(O.jsx)(o.a,{children:Object(O.jsx)(u.a,{component:"main",maxWidth:"md",children:Object(O.jsxs)(d.a,{elevation:12,className:p.paper,children:[Object(O.jsx)(f,{setLocation:r,setWeather:h}),""!==a&&Object(O.jsx)(l.a,{align:"center",variant:"h4",className:p.city,children:a}),Object(O.jsx)(y,{currentWeather:j.current}),Object(O.jsx)(k,{forecast:j.daily})]})})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.31827353.chunk.js.map