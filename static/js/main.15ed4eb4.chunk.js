(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),s=n.n(r),o=n(23),i=n(119),d=n(120),u=n(116),l=n(118),g=n(19),p=n(121),h=n(41),j=n.n(h),m=n(28),b=n.n(m),f=function(e,t){return b.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely,hourly,alerts&units=metric&appid=").concat("f4d44a9ee84f5984877a722c761480af"))},O=n(112),x=Object(O.a)((function(e){return{search:{maxWidth:"360px",margin:"0 auto"}}})),v=n(5),S=function(e){var t=e.setLocation,n=e.setWeather,c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],i=r[1],d=x();return Object(v.jsx)(j.a,{value:s,onChange:function(e){i(e)},onSelect:function(e){var a,c=e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");sessionStorage.getItem(c)?(t(c),n(JSON.parse(sessionStorage.getItem(c)))):(a=e,b.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,"&language=en&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(e){return{city:e.data.results[0].address_components[0].long_name,location:Object(g.a)({},e.data.results[0].geometry.location)}}))).then((function(e){var a=e.city,c=e.location;sessionStorage.getItem(a)?(t(a),n(JSON.parse(sessionStorage.getItem(a)))):f(c.lat,c.lng).then((function(e){n(e.data),sessionStorage.setItem(a,JSON.stringify(e.data))})).then((function(){return t(a)})).catch((function(){return alert("Can't fetch weather data")}))})).catch((function(){return alert("Invalid input")})),i("")},children:function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,c=e.loading;return Object(v.jsxs)("div",{className:d.search,children:[Object(v.jsx)(p.a,Object(g.a)({fullWidth:!0},t({placeholder:"Search",className:"location-search-input"}))),Object(v.jsxs)("div",{className:"autocomplete-dropdown-container",children:[c&&Object(v.jsx)("div",{children:"Loading..."}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(v.jsx)("div",Object(g.a)(Object(g.a)({},a(e,{className:t,style:n})),{},{children:Object(v.jsx)("span",{children:e.description})}))}))]})]})}})},y=n(117),I=n(13),w=Object(O.a)((function(e){var t;return{general:Object(I.a)({},e.breakpoints.up("sm"),{paddingRight:e.spacing(5),marginBottom:e.spacing(3)}),temp:Object(I.a)({},e.breakpoints.down("xs"),{textAlign:"center"}),details:(t={},Object(I.a)(t,e.breakpoints.down("xs"),{textAlign:"center",marginBottom:e.spacing(1)}),Object(I.a)(t,e.breakpoints.up("sm"),{paddingLeft:e.spacing(5),paddingBottom:e.spacing(2),marginTop:"auto",marginBottom:e.spacing(3)}),t)}})),N={"01d":"\u2600\ufe0f","02d":"\u26c5","03d":"\u2601","04d":"\u2601","09d":"\ud83c\udf27","10d":"\ud83c\udf26","11d":"\u26c8","13d":"\u2744","50d":"\ud83c\udf2b","01n":"\ud83c\udf11","02n":"\u26c5","03n":"\u2601","04n":"\u2601","09n":"\ud83c\udf27","10n":"\ud83c\udf26","11n":"\u26c8","13n":"\u2744","50n":"\ud83c\udf2b"},k=function(e){var t=e.currentWeather,n=w();return void 0!==t&&Object(v.jsxs)(y.a,{container:!0,className:n.container,children:[Object(v.jsx)(y.a,{item:!0,xs:12,sm:12,children:Object(v.jsx)(l.a,{align:"center",variant:"h3",component:"h2",children:"".concat(N[t.weather[0].icon]," ").concat(t.weather[0].main)})}),Object(v.jsx)(y.a,{item:!0,xs:12,sm:6,className:n.general,children:Object(v.jsxs)(l.a,{align:"right",variant:"h1",component:"h3",className:n.temp,children:[Math.round(t.temp),"\xb0"]})}),Object(v.jsxs)(y.a,{item:!0,xs:12,sm:6,className:n.details,children:[Object(v.jsxs)(l.a,{variant:"body1",children:["Feels like: ",Math.round(t.feels_like),"\xb0"]}),Object(v.jsxs)(l.a,{variant:"body1",children:["Humidity: ",t.humidity,"%"]}),Object(v.jsxs)(l.a,{variant:"body1",children:["Pressure: ",t.pressure,"hPa"]})]})]})},J=function(e){var t=e.dayWeather,n=new Date(1e3*t.dt).toLocaleDateString("en-US",{weekday:"short"});return Object(v.jsxs)("div",{className:"day",children:[Object(v.jsx)(l.a,{variant:"body2",align:"center",children:n}),Object(v.jsx)(l.a,{variant:"h5",component:"p",align:"center",children:N[t.weather[0].icon]}),Object(v.jsxs)(l.a,{variant:"body2",align:"center",children:[Math.round(t.temp.day),"\xb0 ",Math.round(t.temp.night),"\xb0"]})]})},C=(n(81),function(e){var t=e.forecast;return Object(v.jsx)("div",{className:"container",children:void 0!==t&&t.map((function(e){return Object(v.jsx)(J,{dayWeather:e},e.dt)}))})}),L=Object(O.a)((function(e){return{paper:{minHeight:"396px",marginTop:e.spacing(3),padding:e.spacing(2)},city:{margin:e.spacing(2)}}}));var W=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),s=Object(o.a)(r,2),g=s[0],p=s[1],h=L();return Object(a.useEffect)((function(){sessionStorage.getItem("currentLocation")?(c(sessionStorage.getItem("currentLocation")),p(JSON.parse(sessionStorage.getItem(sessionStorage.getItem("currentLocation"))))):navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,a=t.longitude;(function(e,t){return b.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&language=en&result_type=locality&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(e){return e.data.results[0].address_components[0].long_name}))})(n,a).then((function(e){return c(e),sessionStorage.setItem("currentLocation",e),e})).then((function(e){sessionStorage.getItem(e)?p(JSON.parse(sessionStorage.getItem(e))):f(n,a).then((function(t){p(t.data),sessionStorage.setItem(e,JSON.stringify(t.data))})).catch((function(){return alert("Can't fetch weather data")}))})).catch((function(){return alert("Something went wrong")}))}))}),[]),Object(v.jsx)(i.a,{children:Object(v.jsx)(d.a,{component:"main",maxWidth:"md",children:Object(v.jsxs)(u.a,{elevation:12,className:h.paper,children:[Object(v.jsx)(S,{setLocation:c,setWeather:p}),Object(v.jsx)(l.a,{align:"center",variant:"h5",className:h.city,children:""!==n?n:"Turn on geolocation or type the city"}),Object(v.jsx)(k,{currentWeather:g.current}),Object(v.jsx)(C,{forecast:g.daily})]})})})};s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(W,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.15ed4eb4.chunk.js.map