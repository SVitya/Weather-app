(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),i=n(21),o=n(113),u=n(114),l=n(110),d=n(111),h=n(115),j=n(27),g=n.n(j),p=function(t,e){return g.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(e,"&exclude=minutely,hourly,alerts&units=metric&appid=").concat("f4d44a9ee84f5984877a722c761480af"))},m=n(106),b=Object(m.a)((function(t){return{search:{maxWidth:"200px",margin:"0 auto"}}})),O=n(5),f=function(t){var e=t.setLocation,n=t.setWeather,r=Object(a.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],u=b();return Object(O.jsx)("form",{onSubmit:function(t){t.preventDefault();var a,r=s.toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.substring(1)})).join(" ");sessionStorage.getItem(r)?(e(r),n(JSON.parse(sessionStorage.getItem(r)))):(a=r,g.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,"&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(t){return t.data.results[0].geometry.location}))).then((function(t){return p(t.lat,t.lng)})).then((function(t){n(t.data),sessionStorage.setItem(r,JSON.stringify(t.data))})).then((function(){return e(r)})).catch((function(t){return alert("Invalid input")})),o("")},className:u.search,children:Object(O.jsx)(h.a,{label:"Search",value:s,onChange:function(t){o(t.target.value)}})})},x=n(112),v=n(22),S=Object(m.a)((function(t){var e;return{temp:(e={},Object(v.a)(e,t.breakpoints.down("xs"),{textAlign:"center"}),Object(v.a)(e,t.breakpoints.up("sm"),{marginRight:t.spacing(8)}),Object(v.a)(e,t.breakpoints.up("md"),{marginBottom:t.spacing(3)}),e),details:Object(v.a)({},t.breakpoints.down("xs"),{textAlign:"center",marginBottom:t.spacing(1)})}})),y=function(t){var e=t.currentWeather,n=S();return void 0===e?Object(O.jsx)(d.a,{align:"center",variant:"h5",children:"Loading..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.a,{align:"center",variant:"h3",children:e.weather[0].main}),Object(O.jsxs)(x.a,{container:!0,children:[Object(O.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(O.jsxs)(d.a,{align:"right",variant:"h1",className:n.temp,children:[Math.round(e.temp),"\xb0"]})}),Object(O.jsxs)(x.a,{item:!0,xs:12,sm:6,className:n.details,children:[Object(O.jsxs)(d.a,{variant:"h6",children:["Feels like: ",Math.round(e.feels_like),"\xb0"]}),Object(O.jsxs)(d.a,{variant:"h6",children:["Humidity: ",e.humidity,"%"]}),Object(O.jsxs)(d.a,{variant:"h6",children:["Pressure: ",e.pressure,"hPa"]})]})]})]})},I=(n(74),function(t){var e=t.dayWeather,n=new Date(1e3*e.dt).toLocaleDateString("en-US",{weekday:"short"});return Object(O.jsxs)("div",{className:"day",children:[Object(O.jsx)("div",{children:n}),Object(O.jsxs)("div",{children:[Math.round(e.temp.day),"\xb0"]}),Object(O.jsxs)("div",{children:[Math.round(e.temp.night),"\xb0"]})]})}),k=(n(75),function(t){var e=t.forecast;return Object(O.jsx)("div",{className:"container",children:void 0!==e&&e.map((function(t){return Object(O.jsx)(I,{dayWeather:t},t.dt)}))})}),w=Object(m.a)((function(t){return{paper:{marginTop:t.spacing(3),padding:t.spacing(2)},city:{margin:t.spacing(3)}}}));var N=function(){var t=Object(a.useState)(""),e=Object(i.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)({}),s=Object(i.a)(c,2),h=s[0],j=s[1],m=w();return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){var e=t.coords,n=e.latitude,a=e.longitude;sessionStorage.getItem("currentLocation")?r(sessionStorage.getItem("currentLocation")):function(t,e){return g.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(t,",").concat(e,"&language=en&result_type=locality&key=").concat("AIzaSyCeSjT-4Gt_EdJl-8nGwuAv4vbJNkHPpaI")).then((function(t){return t.data.results[0].address_components[0].long_name}))}(n,a).then((function(t){r(t),sessionStorage.setItem("currentLocation",t)})).catch((function(t){return console.log(t)})),sessionStorage.getItem("currentLocationWeather")?j(JSON.parse(sessionStorage.getItem("currentLocationWeather"))):p(n,a).then((function(t){j(t.data),sessionStorage.setItem("currentLocationWeather",JSON.stringify(t.data))})).catch((function(t){return console.log(t)}))}),(function(){return alert("Pleace, turn on geolocation")}))}),[]),Object(O.jsx)(o.a,{children:Object(O.jsx)(u.a,{component:"main",maxWidth:"md",children:Object(O.jsxs)(l.a,{elevation:12,className:m.paper,children:[Object(O.jsx)(f,{setLocation:r,setWeather:j}),""!==n&&Object(O.jsx)(d.a,{align:"center",variant:"h4",className:m.city,children:n}),Object(O.jsx)(y,{currentWeather:h.current}),Object(O.jsx)(k,{forecast:h.daily})]})})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.bc638390.chunk.js.map